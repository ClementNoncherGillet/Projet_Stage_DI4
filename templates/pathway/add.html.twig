{% extends 'base.html.twig' %}

{% block title %}Liste des parcours{% endblock %}

{% block stylesheets %}
       <link rel="stylesheet" href="{{ asset('CSS/Global/IndexCrud.css') }}">
        <link rel="stylesheet" href="{{ asset('CSS/Global/NewCrud.css') }}">
        <link rel="stylesheet" href="{{ asset('CSS/Global/Modal.css') }}">
{% endblock %}


{% block body %}

<div class="index">

    <!-- inputs pour envoyer des json ou des valeurs au serveur sans les afficher -->
    <input type="hidden" id="json-resources-by-activities" name="json-resources-by-activities" >
    <input style="display:none;" name="nbactivity" id="nbactivity">

    <h1> Ajouter un parcours </h1>

    <form action="{{ path('PathwayAdd') }}" method="post">
        <div id="pathway-form">
            <div id="pathway-form-top">
               <div class="flex-col"> 
                    <label class="label" for='name'> Nom du parcours </label>        
                    <input class="input" id='pathwayname' type='text' name='pathwayname' onchange='disableSubmit()'>
                </div>
            </div>

            <div id="pathway-form-body">
                <!-- partie gauche - permet de lister les activités -->
                <div id="activities-list">
                    <label class="label">Choisissez les activités de votre parcours</label>

                    <fieldset id="fs-add-activity">
                
                        {# div dans laquelle on ajoutera les activités : #}
                        <div class="activities-container"> 
                        </div>

                        <button type="button" id='btn-add-activity' onclick="handleAddActivity()"> <b> Ajouter une activité </b> </button> 

                    </fieldset>
                </div>

                <!-- partie droite - permet d'éditer une activité -->
                <div id="resources-editing">
                    <div class="flex-col"> 
                        <label class="label" for='name'> Éditer une activité </label>        
                    </div>
                </div>
            </div>

            <div id="pathway-form-footer">
                <button type="button" class="btn-delete btn-secondary" onclick="hideNewModalForm()">Annuler</button>
                <button type='button' onclick="verifyChanges()" class="btn-consult btn-secondary"> Verrouiller les modifications  </button>
                <button id='submit' type="submit" class="btn-valide btn-secondary" disabled> Ajouter </button>
            </div>
        </div>
    </form>
</div>

{% endblock %}


{% block javascripts %}
        <script src="../js/jquery-3.6.0.js"></script>
        <script src="../js/bootstrap/bootstrap.min.js" integrity="sha384-3nhVhzgkAiK+aRAouB5S914cEx9yGFCeToSirPZfaTPyy6g+RbDkzkmojJymfCBY sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 sha256-SUzPu+ewjZCj6CtwVs9sNh6Q/LMFi1w1RZ9TxpKmVkE=" crossorigin="anonymous"></script>
        <script src="../js/Pathway/EditForm.js"> </script>
        <script src="../js/Pathway/pathway.js"> </script>
{% endblock %}